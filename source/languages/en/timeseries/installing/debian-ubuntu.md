---
title: Installing on Debian and Ubuntu
project: riak_ts
version: 1.0.0+
document: tutorial
audience: beginner
keywords: [tutorial, installing, debian, ubuntu, linux]
download:
  key: debian
  name: "Debian or Ubuntu"
---

[packagecloud]: https://packagecloud.io/basho/riak?filter=debs
[AAE]: http://docs.basho.com/riak/2.1.1/theory/concepts/aae/
[riak security]: http://docs.basho.com/riak/2.1.1/ops/running/authz/

Riak TS can be installed on Debian- or Ubuntu-based systems using a binary
package.

You have the option of installing with APT or by hand. The instructions for each option are below.

##Installing with apt

###Get APT 

You can find a compatible APT at [packagecloud.io][packagecloud]
hosting service.

Platform-specific pages are linked below:

* [Lucid](https://packagecloud.io/basho/riak/packages/ubuntu/lucid/riak-ts_{{VERSION}}-1_amd64.deb)
* [Precise](https://packagecloud.io/basho/riak/packages/ubuntu/precise/riak-ts_{{VERSION}}-1_amd64.deb)
* [Squeeze](https://packagecloud.io/basho/riak/packages/debian/squeeze/riak-ts_{{VERSION}}-1_amd64.deb)
* [Trusty](https://packagecloud.io/basho/riak/packages/ubuntu/trusty/riak-ts_{{VERSION}}-1_amd64.deb)
* [Wheezy](https://packagecloud.io/basho/riak/packages/debian/wheezy/riak-ts_{{VERSION}}-1_amd64.deb)

<div class="note">
<div class="title">Note on Debian 7</div>
If you wish to install Riak TS on Debian 7, you may need to install
[libc6](://packages.debian.org/search?keywords=libc6) version 2.15 or
later, which in turn requires upgrading your system to
[sid](https://www.debian.org/releases/sid/). Installation instructions
can be found
[here](https://wiki.debian.org/DebianUnstable#How_do_I_install_Sid.3F).

Once sid has been installed, you can install libc6 with the following
command:

```bash
apt-get -t sid install libc6 libc6-dev libc6-dbg
```
</div>

###Create and populate `.list` file

First, retrieve the signing key:

```curl
curl https://packagecloud.io/gpg.key | sudo apt-key add -
```

Second, install the `apt-transport-https` package in order to fetch packages over HTTPS:

```bash
sudo apt-get install -y apt-transport-https
```

With HTTPS enabled, add the desired Riak TS package (see above) to your
`.list` file so that packagecloud can autogenerate a file on the basis of
the specified name (e.g. a hostname) and the desired operating
system/distribution. The following Ubuntu Precise example script stores your
hostname in the variable `HOSTNAME`, sends that information to
packagecloud to autogenerate a `.list` file, and then stores the return
value in a file called `basho.list` in the
`/etc/apt/sources.list.d` directory.

```bash
#!/bin/bash

HOSTNAME=`hostname -f`
FILENAME=/etc/apt/sources.list.d/basho.list
OS=ubuntu
DIST=precise
PACKAGE_CLOUD_RIAK_DIR=https://packagecloud.io/install/repositories/basho/riak-ts
curl "${PACKAGE_CLOUD_RIAK_DIR}/config_file.list?os=${OS}&dist=${DIST}&name=${HOSTNAME}" > $FILENAME
```

The resulting file should look like the following:

```
# this file was generated by packagecloud.io for
# the repository at https://packagecloud.io/basho/riak

deb https://packagecloud.io/basho/riak-ts/ubuntu/ precise main
deb-src https://packagecloud.io/basho/riak-ts/ubuntu/ precise main
```

###Install Riak TS

Once your `basho.list` file is populated, update your APT sources
list:

```bash
sudo apt-get update
```

Then install the `riak-ts` package.

```bash
sudo apt-get install riak-ts
```

###Turn off AAE

Once you've installed Riak TS, you must turn off [AAE][AAE]. To do this, edit riak.conf as follows:

```riak.conf
anti_entropy = passive
```


##Installing From Package

If you wish to install the deb packages by hand, follow these
instructions.

>**Note on Installing on Non-LTS Ubuntu Releases**
>
>Typically we only package Riak TS for LTS releases to keep our build and
testing matrix focused.  In some cases, we might release a
separate package for a non-LTS release. Most of the time, however,
if you are running a non-LTS release (such as 12.10) it is safe to
follow the below instructions for the LTS release prior to your release.
In the case of Ubuntu 12.10, follow the installation instructions for
Ubuntu 12.04.

###Dependencies

####PAM Library Requirement for Ubuntu

You must have the `libpam0g-dev` package used for [Pluggable Authentication Module (PAM)][riak security] authentication in order to install Riak TS.

To install this dependency:

```bash
sudo apt-get install libpam0g-dev
```

###Install Riak TS 

Execute the following command to install Riak TS:

```bash
wget http://s3.amazonaws.com/downloads.basho.com/riak-ts/{{V.V}}/{{VERSION}}/ubuntu/precise/riak-ts_{{VERSION}}-1_amd64.deb
sudo dpkg -i riak-ts_{{VERSION}}-1_amd64.deb
```

###Turn off AAE

Once you've installed Riak TS, you must turn off [AAE][AAE]. To do this, edit riak.conf as follows:

```riak.conf
anti_entropy = passive
```

##Next Steps

Now that you've installed Riak TS, check out [[Activating Your Riak TS Bucket]].
