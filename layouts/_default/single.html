<!DOCTYPE html>
{{ `<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"></html><![endif]-->` | safeHTML }}
{{ `<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"></html><![endif]-->` | safeHTML }}
{{ `<!--[if IE 8]><html class="no-js lt-ie9" lang="en"></html><![endif]-->` | safeHTML }}
{{ `<!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]-->` | safeHTML }}

<head class="tutorials">
  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width">
  <meta name="project" content="{{ .Params.project }}">
  <meta name="version" content="{{ .Params.project_version }}">
  <meta name="base-url" content="{{ .URL }}">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <title>{{ .Title }}</title>

  <link href="/css/version-bar.css" media="screen" rel= "stylesheet" type="text/css">

  <link href="/css/all.css" media="screen" rel= "stylesheet" type="text/css">
  <link href="/css/print.css" media="print" rel= "stylesheet" type="text/css">

  <script src="/js/all.js" type="text/javascript"></script>
  <script src="/js/version-bar.js" type= "text/javascript"></script>

  <script>hljs.initHighlightingOnLoad();</script>
</head>

{{/*TODO(Drew): We need to figure out if this `class="latest"`` is required for
                that stupid marketing banner. Maybe just fix the CSS. */}}
<body class="latest">
  {{ partial "google_tag_manager.html" . }}

  {{/*TODO(Drew): Correctly implement the nav sidebar. */}}
  <aside id="nav-container" role="complementary">
    <nav class="overview" id="primary-nav" role="nav">
      <div id="primary-nav-content">
        <h2 class="responsive-link"><a class="responsive-toggle"></a></h2>

        <form action="http://search.basho.com">
          <div class="nav-field-container">
            <div id="icon-container-search">
              <div class="icon-container">
                <span aria-hidden="true" class="nav-icon nav-icon-search" data-icon="&#xf002;"></span>
              </div>
              <span class="separator">&#124;</span>
            </div>
            <input id="main-search" name="q" placeholder="Search" size="5" type="search" />
          </div>
        </form>

        <div class="clear"></div>

        <h3 class="responsive-link visit-basho">
          <a href="http://www.basho.com">
            <div class="icon-container">
              <span aria-hidden="true" class="nav-icon" data-icon="&#xe003;"></span>
            </div>
            <span class="separator">&#124;</span>
            <span class="menu-title">Visit Basho</span>
            <div class="clear"></div>
          </a>
        </h3>

        <h3 class="responsive-link">
          <a href="/index.html">
            <div class="icon-container">
              <span aria-hidden="true" class="nav-icon" data-icon="&#xe003;"></span>
            </div>
            <span class="separator">&#124;</span>
            <span class="menu-title">All Riak Projects</span>
            <div class="clear"></div>
          </a>
        </h3>

        {{/*NOTE(Drew): I'm... pretty sure we need to give this nav bar an empty
                        ul element as a closer? */}}
        <ul></ul>

      </div>
    </nav>
    <ul id="fixed-nav">
      <li>
        <a href="https://github.com/basho/basho_docs" target="_blank">
          <div class="icon-container">
            <span aria-hidden="true" class="nav-icon" data-icon="&#xe004;"></span>
          </div>
          <span class="separator">&#124;</span>Available on GitHub
        </a>
      </li>
      <li>
        <a href="/riak/latest/community/">
          <div class="icon-container">
            <span aria-hidden="true" class="nav-icon" data-icon="&#xf059;"></span>
          </div>
          <span class="separator">&#124;</span>Get Help
        </a>
      </li>
    </ul>
  </aside>

  {{/*TODO(Drew): Implement skipping the Table of Contents. */}}
  <div role="main">
    <header class="masthead">
      <div id="header">
        {{/*TODO(Drew): Split the marketing banner out into a partial?
                        Also, be aware this is only present in the wide view of
                        the site. */}}
        <div id="marketing-banner">
          <div class="hugs"></div>
          <div class="temp-banner-text">
            <strong>Register with Basho</strong> to be kept up-to-date on Riak releases, education, and events
          </div>
          <a class="more" href="http://info.basho.com/DocsBanner.html"></a>
        </div>

        <div id="header-inner">
          <div class="icon-reorder" id="nav-toggle"></div>

          <div id="top-nav">
            {{/*TODO(Drew): This used the be defined with `class={{project}}`.
                            find out if we need to re-add that. */}}
            <a href="/{{ .Params.project }}/downloads/"><span class="icon-download-alt"></span>Downloads</a>
            <div id="nav-more"><span class="icon-more"></span></div>
          </div>

          <a class="responsive-toggle"></a>
          {{/*TODO(Drew): Figure out why we have text here that's not ever going
                          to be rendered. */}}
          {{/*TODO(Drew): Find and render a per-project image logo here. */}}
          <a class="logo" href="/index.html"><h1>Riak Docs</h1></a>
          {{/*TODO(Drew): This apparently this was just never rendered? What and
                          why? No really. Why. */}}
          <span class="tagline">Product tutorials, how-tos, and fully-documented APIs.</span>
          <div id="nav-menu">
            <h2>Links</h2>
            <ul>
              <li><a href="http://docs.basho.com/">Docs Home</a></li>
              <li><a href="http://basho.com/">Basho Website</a></li>
            </ul>
            {{/*TODO(Drew): These make the little upward bump arrow thing. That
                            took me half an hour to figure out, so I'd like to
                            rename them. */}}
            <div id="nav-menu-arrow"></div>
            <div id="nav-menu-arrow-back"></div>
          </div>

          <div class="clear"></div>

          <div class="header-rule"></div>
        </div>
      </div>
    </header>

    {{/*TODO(Drew): Do we want to extract this to live somewhere else?
                    Also, be aware this is only present in the wide view of the
                    site. */}}
    <div id="ricon-temp-banner-responsive">
      <a class="register" href="http://basho.com/new-basho-data-platform-provides-outstanding-operational-simplicity-for-enterprise-big-data-applications/">Basho Data Platform coming soon.</a>
    </div>

    <article class="mainarticle">
    {{/*TODO(Drew): Correctly implement the version drop-down.
                    Actually... Does anything need to happen for thi? */}}
      <!-- <div class="versions"></div> -->

      {{/*NOTE(Drew): The .slim that generates this header is...
                          - unless !data.page.title || data.page.simple
                          header
                            - title = data.page.title
                            - if title =~ /Multi.Data.Center.Replication.?\:?(.*)/
                              - title = "<div class=small>Multi-Datacenter Replication:</div> #{$1}"
                            h1== title

                      It looks like we need to munge the title and add that
                      `class="small"` div if we're on an MDC page. */}}
      {{/*TODO(Drew): Fix this. All of this. Fix all of the above. */}}
      <header><h1>{{ .Title }}</h1></header>

      {{/*TODO(Drew): Find out what the below does, and re-implement it here...
                          - if data.page.header == 'riakee'
                            .enterprise
                              == I18n.t(:"riak_ee.info.body")
                            = "\n"
      */}}

      {{/*TODO(Drew): Implement the Table of Contents. */}}
      <nav id="toc">
        <h2 class="title">Contents</h2>
        <div id="toc-wrapper">
          <ol id="toc-items"></ol>
        </div>
      </nav>

      {{/*NOTE(Drew): At this point, if this were a downloads page, we'd be
                      rendering...
                          - if data.page.download.present?
                            aside#download-button
                              a href="/downloads/##{data.page.download['key']}"
                                span.content
                                  span.title riak
                                  span.subtitle Download #{current_version('riak')} for #{data.page.download['name']}
                            = "\n"
      */}}


      {{ .Content }}


      <div class="clear"></div>

      <section class="right-sidebar">
        <aside class="secondary" role="complementary">
          <nav class="suggestions">
            <h4>These May Also Interest You</h4>
            <div class="columns">
            {{/*TODO(Drew): Do we want to implement the suggestions? */}}
            </div>
          </nav>

          {{/*TODO(Drew): Figure how to/if we should drop keywords in here. */}}
        </aside>
      </section>
    </article>

    {{/*TODO(Drew): Figure out if we want watermarks. */}}
    <!-- <div class="watermark-wrapper" itemscope="itemscope" itemtype="http://schema.org/CreativeWork">
      <div class="version-icon-watermark">&#xe60e</div>
      <meta content="1.0.0" itemprop="version" />
    </div> -->

    {{ partial "footer.html" . }}

  </div>
</body>
</html>
