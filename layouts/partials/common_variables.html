<!-- Note on Design:
     --------------
  All Hugo Template blocks are going to be wrapped in these multi-line HTML
  comments so the compiled source might be a bit prettier to look at; if
  unwrapped, every Go call will get its own newline, and add an incredible
  amount of padding to the source.
-->
<!-- Site-wide Variables.
     -------------------
  The interesting ones are getting stored in `.Scratch` so they're accessible in
  other scopes (e.g. partials).

{{ $project := .Params.project }}
{{ $version := .Params.project_version }}
{{ $project_decription := (index .Site.Params.project_descriptions $project) }}
{{ $latest_version     := $project_decription.latest }}
{{ $lts_version        := $project_decription.lts }}
{{ $project_path       := $project_decription.path }}
{{ $releases           := $project_decription.releases }}
{{ $archived_url       := $project_decription.archived_url }}
{{ $site_relative_url := (replace .Permalink .Site.BaseURL "") }}
{{ $relative_url      := (replace $site_relative_url (printf "%s/%s/" (index $project_decription "path") $version) "") }}
{{ $is_latest := (eq $version $latest_version) }}
{{ $is_lts    := (eq $version $lts_version) }}

{{ .Scratch.Add "project"            $project }}
{{ .Scratch.Add "version"            $version }}
{{ .Scratch.Add "latest_version"     $latest_version  }}
{{ .Scratch.Add "lts_version"        $lts_version  }}
{{ .Scratch.Add "project_path"       $project_path }}
{{ .Scratch.Add "releases"           $releases }}
{{ .Scratch.Add "site_relative_url"  $site_relative_url }}
{{ .Scratch.Add "relative_url"       $relative_url }}
{{ .Scratch.Add "archived_url"       $archived_url }}
{{ .Scratch.Add "is_latest"          $is_latest }}
{{ .Scratch.Add "is_lts"             $is_lts }}
-->
